$('.login-content [data-toggle="flip"]').click(function(){return $(".login-box").toggleClass("flipped"),!1});var divLoading=document.querySelector("#divLoading");document.addEventListener("DOMContentLoaded",function(){if(document.querySelector("#formLogin")){let e=document.querySelector("#formLogin");e.onsubmit=function(r){r.preventDefault();let t=document.querySelector("#txtEmail").value,n=document.querySelector("#txtPassword").value;if(""==t||""==n)return swal("Por favor","Introduce tus credenciales de acceso","error"),!1;divLoading.style.display="flex";var o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),s=base_url+"/Login/loginUser",a=new FormData(e);o.open("POST",s,!0),o.send(a),o.onreadystatechange=function(){if(4==o.readyState){if(200==o.status){var e=JSON.parse(o.responseText);e.status?window.location.reload(!1):(swal("Atenci\xf3n",e.msg,"error"),document.querySelector("#txtPassword").value="")}else swal("Atenci\xf3n","Error en el proceso","error");return divLoading.style.display="none",!1}}}}if(document.querySelector("#formRecetPass")){let r=document.querySelector("#formRecetPass");r.onsubmit=function(e){e.preventDefault();if(""==document.querySelector("#txtEmailReset").value)return swal("Por favor","Escribe tu correo electr\xf3nico.","error"),!1;divLoading.style.display="flex";var t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n=base_url+"/Login/resetPass",o=new FormData(r);t.open("POST",n,!0),t.send(o),t.onreadystatechange=function(){if(4==t.readyState){if(200==t.status){var e=JSON.parse(t.responseText);e.status?swal({title:"",text:e.msg,type:"success",confirmButtonText:"Aceptar",closeOnConfirm:!1},function(e){e&&(window.location=base_url)}):swal("Atenci\xf3n",e.msg,"error")}else swal("Atenci\xf3n","Error en el proceso","error");return divLoading.style.display="none",!1}}}}if(document.querySelector("#formCambiarPass")){let t=document.querySelector("#formCambiarPass");t.onsubmit=function(e){e.preventDefault();let r=document.querySelector("#txtPassword").value,n=document.querySelector("#txtPasswordConfirm").value;if(document.querySelector("#idUsuario").value,""==r||""==n)return swal("Por favor","Escribe la nueva contrase\xf1a.","error"),!1;if(r.length<5)return swal("Atenci\xf3n","La contrase\xf1a debe tener un m\xednimo de 5 caracteres.","info"),!1;if(r!=n)return swal("Atenci\xf3n","Las contrase\xf1as no son iguales.","error"),!1;divLoading.style.display="flex";var o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),s=base_url+"/Login/setPassword",a=new FormData(t);o.open("POST",s,!0),o.send(a),o.onreadystatechange=function(){if(4==o.readyState){if(200==o.status){var e=JSON.parse(o.responseText);e.status?swal({title:"",text:e.msg,type:"success",confirmButtonText:"Iniciar sessi\xf3n",closeOnConfirm:!1},function(e){e&&(window.location=base_url+"/login")}):swal("Atenci\xf3n",e.msg,"error")}else swal("Atenci\xf3n","Error en el proceso","error");divLoading.style.display="none"}}}}},!1);